<div class="h-max w-full sm:w-75 md:w-50 lg:w-25">
    
    <div class="w-full h-max ">
        <div class="flex justify-between items-center p-2 sm:rounded-t-lg bg-clean dark:bg-very-clean" [ngClass]="{'rounded-t-lg': !header}">
            <div class="text-4xl text-primary font-bold tracking-tight sm:text-6xl" style="z-index: 2;">
                {{month}}
            </div>
            
            <div class="flex gap-4 items-center justify-between">
                <div class="text-primary rounded-full cursor-pointer" (click)="op.toggle($event)" *ngIf="header">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
                    </svg>                      
                  </div>

                <div class="flex gap-1" *ngIf="nav">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 cursor-pointer" [ngClass]="{'text-primary': nav.nextEnable, 'opacity-60': !nav.nextEnable}" (click)="nav.nextEnable && nav.next()">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 cursor-pointer" [ngClass]="{'text-primary': nav.previousEnable, 'opacity-60': !nav.previousEnable}" (click)="nav.previousEnable && nav.previous()">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                </div>                          
            </div>
        </div>
        <full-calendar #calendar [options]="calendarOptions"></full-calendar>
        <div class="h-3 bg-clean dark:bg-very-clean rounded-b-lg"></div>
    </div>        
</div>

<p-overlayPanel #op [style]="{background: '#ddd'}">
    <ng-container [ngTemplateOutlet]="headerView"></ng-container>
</p-overlayPanel>

<ng-template #headerView>

    <div class="grid grid-cols-12 gap-1 py-2 md:px-2 lg:px-4 px-0" *ngIf="header">
        <ng-container *ngFor="let item of calendarItemsArray">
            <div class="md:col-span-6 col-span-6 flex items-center">
                <ng-container [ngTemplateOutlet]="item.template"></ng-container>
            </div>
        </ng-container>
        <div class="md:col-span-6 col-span-6 flex items-center" [ngClass]="{'col-span-12': calendarItemsArray.length === 0}">
            <div class="w-full" >
                <p-dropdown dropdownIcon="fa-solid fa-calendar-check" [options]="viewTranslate" [(ngModel)]="view" (onChange)="changeView($event)" [style]="{width: '100%'}"></p-dropdown>
            </div>
        </div>
    </div>

</ng-template>